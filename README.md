# DocRouter

Сервис для сортировки и обработки документов.

## Установка зависимостей

```bash
pip install -r requirements.txt
npm install
```

## Сборка фронтенда

```bash
npm run build  # или make build-frontend
```

## Настройка

Все настройки выполняются через веб‑интерфейс. При загрузке можно выбрать язык документа для корректного OCR.

Для документов без владельца используется папка с именем по умолчанию `Shared`. Изменить её можно через переменную окружения `GENERAL_FOLDER_NAME`.

## Запуск

Запустите сервер FastAPI через единый entry point и откройте веб‑страницу для загрузки документов:

```bash
python main.py --reload
```

После запуска перейдите в браузере по адресу [http://localhost:8000](http://localhost:8000), чтобы загружать файлы и настраивать сервис через веб‑интерфейс.

### Аутентификация

Сервис открыт — загрузка и скачивание файлов не требуют авторизации.

### Хранилище

Все метаданные хранятся в памяти процесса и теряются после перезапуска сервера.

## Docker

Для запуска в контейнере подготовлен `docker-compose.yml`.
Скопируйте `env.example` в `.env` и поднимите сервис:

```bash
cp env.example .env
docker compose up --build
```

Приложение будет доступно по адресу [http://localhost:8000](http://localhost:8000).

## API

### Получение списка файлов

`GET /files` — возвращает список файлов. Если нужно принудительно пересканировать выходной каталог, добавьте параметр `?force=1`.

