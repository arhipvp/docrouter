/* CSS Variables */
:root {
  --color-bg: #f5f5f5;
  --color-surface: #fff;
  --color-surface-alt: #f0f0f0;
  --color-border: #ddd;
  --color-primary: #007bff;
  --color-primary-hover: #0056b3;
  --color-border-dark: #333;
  --spacing-xs: 0.2em;
  --spacing-sm: 0.5em;
  --spacing-md: 1em;
  --spacing-lg: 2em;
  --font-main: Arial, sans-serif;
  --font-mono: monospace;
}

.app { font-family: var(--font-main); margin: 0; padding: 0; background-color: var(--color-bg); }
.app__container { max-width: 90%; margin: var(--spacing-lg) auto; background: var(--color-surface); padding: var(--spacing-lg); border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
h1 { text-align: center; }
form { display: flex; flex-direction: column; gap: var(--spacing-md); }
#files-table {
  width: 100%;
  border-collapse: collapse;
  margin-top: var(--spacing-md);
}
#files-table th,
#files-table td {
  border: 1px solid var(--color-border);
  padding: var(--spacing-sm);
  text-align: left;
}
#files-table th {
  background: var(--color-surface-alt);
}

#edit-description {
  min-height: 5em;
  resize: vertical;
}

#edit-summary {
  min-height: 3em;
  resize: vertical;
}

#files-table td.description {
  max-width: 20em;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
#files-table th.description {
  max-width: 20em;
}

#files-table td.summary {
  max-width: 20em;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
#files-table th.summary {
  max-width: 20em;
}
button, input[type="submit"] { padding: var(--spacing-sm) var(--spacing-md); border: none; background-color: var(--color-primary); color: var(--color-surface); border-radius: 4px; cursor: pointer; }
button:hover, input[type="submit"]:hover { background-color: var(--color-primary-hover); }
#upload-progress { width: 100%; margin-top: var(--spacing-md); }
#ai-exchange { margin-top: var(--spacing-md); }

.ai-dialog {
  max-height: 200px;
  overflow-y: auto;
  font-family: var(--font-mono);
  background: var(--color-surface-alt);
  padding: var(--spacing-md);
  border: 1px solid var(--color-border);
}

.ai-message {
  margin: var(--spacing-xs) 0;
  white-space: pre-wrap;
}

.ai-message.user {
  font-weight: bold;
}
#text-preview {
  font-family: var(--font-mono);
  white-space: pre-wrap;
  max-height: 200px;
  overflow-y: auto;
  background: var(--color-surface-alt);
  padding: var(--spacing-md);
  border: 1px solid var(--color-border);
  margin-top: var(--spacing-md);
}
#folder-tree { list-style: none; padding-left: var(--spacing-md); }
#folder-tree li { margin: var(--spacing-xs) 0; }
.modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.4); justify-content: center; align-items: center; }
.modal__content { background: var(--color-surface); padding: var(--spacing-md); border-radius: 4px; width: 90%; max-width: 400px; }
.modal__close { float: right; cursor: pointer; }
.modal__close:hover { color: var(--color-primary-hover); }
#missing-list { list-style: none; padding: 0; margin: var(--spacing-md) 0; }
#missing-list li { margin: var(--spacing-xs) 0; }
#suggested-path { word-break: break-all; font-family: var(--font-mono); }
#missing-dialog { margin-top: var(--spacing-md); }
#preview-modal .modal__content { width: 80%; height: 80%; max-width: 1000px; max-height: 800px; }
#preview-frame { width: 100%; height: 100%; border: none; }

#selected-images { list-style: none; padding: 0; margin-top: var(--spacing-md); }
#selected-images li { margin: var(--spacing-xs) 0; }

#edit-modal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,0.6);
  justify-content: center;
  align-items: center;
}

#edit-modal .modal__content {
  background: var(--color-surface);
  padding: var(--spacing-md);
  border-radius: 4px;
  display: flex;
  flex-direction: column;
  align-items: center;
}

#edit-canvas {
  border: 1px solid var(--color-border-dark);
  margin-bottom: var(--spacing-md);
  max-width: 100%;
}

.modal__buttons {
  display: flex;
  gap: var(--spacing-sm);
  justify-content: flex-end;
}

/* from codex/add-camera-capture-to-image-input */

/* from main */
@media (max-width: 600px) {
  .app__container { margin: 0; padding: var(--spacing-md); }
  #edit-modal .modal__buttons { flex-direction: column; }
  .modal__content { width: 100%; max-width: none; }
  #files-table th:nth-child(2),
  #files-table td:nth-child(2),
  #files-table th:nth-child(3),
  #files-table td:nth-child(3),
  #files-table th:nth-child(4),
  #files-table td:nth-child(4),
  #files-table th:nth-child(5),
  #files-table td:nth-child(5) { display: none; }
  #folder-tree { display: none; }
}

#notifications {
  position: fixed;
  top: 1em;
  right: 1em;
  display: flex;
  flex-direction: column;
  gap: 0.5em;
  z-index: 1000;
}

.notification {
  padding: 0.5em 1em;
  border-radius: 4px;
  color: #fff;
  box-shadow: 0 2px 4px rgba(0,0,0,0.2);
}

.notification.error { background-color: #dc3545; }

.notification.info { background-color: #17a2b8; }
